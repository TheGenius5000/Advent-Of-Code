print((lambda k,l:sum(all(x+y<6 for x,y in zip(kh,lh)) for kh in k for lh in l))((h:=lambda i,d:[(lambda s:[l.count('#')-1 for l in [*zip(*s)]])(s.splitlines()) for s in i if d not in s[0]])((i:=open("input.txt").read().split("\n\n")),'#'),h(i,'.')))
print((lambda keys, locks: sum(all(x+y < 6 for x,y in zip(key_heights, lock_heights)) for key_heights in keys for lock_heights in locks))((heights_creator := lambda inf, delim: [(lambda schematic: [line.count('#')-1 for line in [*zip(*schematic)]])(schematic.splitlines()) for schematic in inf if delim not in schematic[0]])((inf := open(r"input.txt").read().split("\n\n")), '#'), heights_creator(inf, '.')))